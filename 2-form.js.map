{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n};\n\nrefs.form.addEventListener('input', e => {\n    const email = e.currentTarget.elements.email.value;\n    const message = e.currentTarget.elements.message.value;\n    const data = { email, message};\n    saveToLS(STORAGE_KEY, data)\n});\n\nfunction initPage() {\n    const formData = loadFromLS(STORAGE_KEY);\n    refs.form.elements.email.value = formData?.email || 'Anonym';\n    refs.form.elements.message.value = formData?.message || '';\n}\ninitPage();\n\n\nrefs.form.addEventListener('submit', e => {\n    e.preventDefault();\n    const email = e.currentTarget.elements.email.value.trim();\n    const message = e.currentTarget.elements.message.value.trim();\n  const data = { email, message };\n  \n  if (email === '' || message === '') {\n    return alert('Fill please all fields');\n  }\n    console.log(data);\n    localStorage.removeItem(STORAGE_KEY);\n    e.target.reset();\n    \n});\n\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n};\n\n\nfunction loadFromLS(key) {\n  const body = localStorage.getItem(key);\n  try {\n    const data = JSON.parse(body);\n    return data;\n  } catch{\n    return body;\n  }\n};"],"names":["STORAGE_KEY","refs","email","message","saveToLS","initPage","formData","loadFromLS","data","key","value","jsonData","body"],"mappings":"uFAAA,MAAMA,EAAc,sBACdC,EAAO,CACT,KAAM,SAAS,cAAc,gBAAgB,CACjD,EAEAA,EAAK,KAAK,iBAAiB,QAAS,GAAK,CACrC,MAAMC,EAAQ,EAAE,cAAc,SAAS,MAAM,MACvCC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAEjDC,EAASJ,EADI,CAAE,MAAAE,EAAO,QAAAC,CAAO,CACH,CAC9B,CAAC,EAED,SAASE,GAAW,CAChB,MAAMC,EAAWC,EAAWP,CAAW,EACvCC,EAAK,KAAK,SAAS,MAAM,OAAQK,GAAA,YAAAA,EAAU,QAAS,SACpDL,EAAK,KAAK,SAAS,QAAQ,OAAQK,GAAA,YAAAA,EAAU,UAAW,EAC5D,CACAD,IAGAJ,EAAK,KAAK,iBAAiB,SAAU,GAAK,CACtC,EAAE,eAAc,EAChB,MAAMC,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAAM,OACnDK,EAAO,CAAE,MAAAN,EAAO,QAAAC,GAEtB,GAAID,IAAU,IAAMC,IAAY,GAC9B,OAAO,MAAM,wBAAwB,EAErC,QAAQ,IAAIK,CAAI,EAChB,aAAa,WAAWR,CAAW,EACnC,EAAE,OAAO,OAEb,CAAC,EAED,SAASI,EAASK,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAGA,SAASJ,EAAWE,EAAK,CACvB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EACrC,GAAI,CAEF,OADa,KAAK,MAAMG,CAAI,CAEhC,MAAS,CACL,OAAOA,CACR,CACH"}